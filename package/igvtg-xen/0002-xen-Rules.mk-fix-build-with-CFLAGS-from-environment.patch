diff -ur b/xen/arch/x86/Rules.mk a/xen/arch/x86/Rules.mk
--- b/xen/arch/x86/Rules.mk	2018-04-11 22:43:39.839045666 +0800
+++ a/xen/arch/x86/Rules.mk	2018-04-11 22:42:57.060580976 +0800
@@ -7,7 +7,7 @@
 CFLAGS += -I$(BASEDIR)/include/asm-x86/mach-generic
 CFLAGS += -I$(BASEDIR)/include/asm-x86/mach-default
 CFLAGS += -DXEN_IMG_OFFSET=$(XEN_IMG_OFFSET)
-CFLAGS += '-D__OBJECT_LABEL__=$(subst /,$$,$(subst -,_,$(subst $(BASEDIR)/,,$(CURDIR))/$@))'
+CFLAGS += -U__OBJECT_LABEL__ '-D__OBJECT_LABEL__=$(subst /,$$,$(subst -,_,$(subst $(BASEDIR)/,,$(CURDIR))/$@))'


 # Prevent floating-point variables from creeping into Xen.
 CFLAGS += -msoft-float
